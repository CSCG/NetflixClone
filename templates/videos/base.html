{% load taggit_extras %}

<!DOCTYPE html>
<html lang="en">
	<head>
		<title>NetflixClone {% block title %}{% endblock %}</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Bootstrap -->
		<link rel="stylesheet" href="{{ STATIC_URL }}css/bootstrap.min.css" media="screen">
		<link href="{{ STATIC_URL }}css/video-js.min.css" rel="stylesheet">
		<style>
			body {padding-top: 65px;}
			a.caret-before {
				padding-right:1px !important;
			}
			a.caret-after {
				padding-left:1px !important;
			}

		</style>
		<script src="{{ STATIC_URL }}js/video.js"></script>
		<script type="text/javascript">
			videojs.options.flash.swf = "{{ STATIC_URL }}video-js.swf"
		</script>
	</head>
	<body>	
		{% get_taglist as movie_genres for 'videos.Movie' %}
		{% get_taglist as tvshow_genres for 'videos.TVShow' %}
		<div class="navbar navbar-fixed-top">
			<div class="container">
				<a href="{% url 'videos:index' %}" class="navbar-brand">NetflixClone</a>
				<ul class="nav navbar-nav">
					{% if movie or movie_list %}
					<li class="active">
					{% else %}
					<li>
					{% endif %}
						<a href="{% url 'videos:movieList' %}" class="caret-before">Movies</a>
					</li>
					{% if movie or movie_list %}
					<li class="dropdown active">
					{% else %}
					<li class="dropdown">
					{% endif %}
						<a href="" class="dropdown-toggle caret-after" data-toggle="dropdown"><span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li class="dropdown-header">
								Filter by genre							
							</li>
							{% for genre in movie_genres%}
							<li><a href="{% url 'videos:movieGenre' genre.slug %}">{{ genre.name }}</a>
							{% endfor %}
						</ul>
					</li>
					{% if tvshow or tvshow_list or episode %}
					<li class="active">
					{% else %}
					<li>
					{% endif %}
						<a href="{% url 'videos:tvShowList' %}" class="caret-before">TV Shows</a>
					</li>
					{% if tvshow or tvshow_list %}
					<li class="dropdown active">
					{% else %}
					<li class="dropdown">
					{% endif %}
						<a href="" class="dropdown-toggle caret-after" data-toggle="dropdown"><span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li class="dropdown-header">
								Filter by genre							
							</li>

							{% for genre in tvshow_genres%}
							<li><a href="{% url 'videos:tvShowGenre' genre.slug %}">{{ genre.name }}</a>
							{% endfor %}
						</ul>
					</li>

				</ul>
				{% if user.is_authenticated %}
					<a href="{% url 'django.contrib.auth.views.logout' %}" class="btn btn-default navbar-btn pull-right">Sign out</a>
				{% endif %}
			</div>
		</div>
		<div class="container">
			{% block content %}{% endblock %}
		</div>
		<!-- JavaScript plugins (requires jQuery) -->
		<script src="{{ STATIC_URL }}js/jquery.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="{{ STATIC_URL }}js/bootstrap.min.js"></script>
		<script type='text/javascript'>
			$(document).ready(function () {
				if ($("[data-toggle='tooltip']").length) {
					$("[data-toggle='tooltip']").tooltip();
				}
			});
		</script>
	</body>
</html>
